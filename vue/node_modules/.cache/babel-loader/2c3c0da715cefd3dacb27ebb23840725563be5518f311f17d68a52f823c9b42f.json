{"ast":null,"code":"import request from \"@/utils/request\";\nexport default {\n  data() {\n    return {\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    };\n  },\n  // 页面加载的时候，做一些事情，在created里面\n  created() {},\n  // 定义一些页面上控件出发的事件调用的方法\n  methods: {\n    submit() {\n      request.post(\"/user\", this.user).then(res => {\n        if (res.code === '0') {\n          this.$message.success(\"操作成功\");\n          this.$bus.$emit('updateAvatar', this.user);\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    txSuccessUpload(res) {\n      this.user.avatar = res.data;\n    }\n  }\n};","map":{"version":3,"names":["request","data","user","localStorage","getItem","JSON","parse","created","methods","submit","post","then","res","code","$message","success","$bus","$emit","error","msg","txSuccessUpload","avatar"],"sources":["src/views/Person.vue"],"sourcesContent":["<template>\r\n  <div style=\"width: 50%; margin-top: 20px\">\r\n    <el-form :model=\"user\">\r\n      <el-form-item label=\"头像\" label-width=\"15%\">\r\n        <el-upload action=\"http://localhost:8080/api/files/upload\" ref=\"tx\" :on-success=\"txSuccessUpload\">\r\n          <el-button size=\"small\" type=\"success\">点击上传</el-button>\r\n        </el-upload>\r\n      </el-form-item>\r\n      <el-form-item label=\"姓名\" label-width=\"15%\">\r\n        <el-input v-model=\"user.name\" disabled autocomplete=\"off\" style=\"width: 90%\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"性别\" label-width=\"15%\">\r\n        <el-radio v-model=\"user.sex\" label=\"男\">男</el-radio>\r\n        <el-radio v-model=\"user.sex\" label=\"女\">女</el-radio>\r\n      </el-form-item>\r\n      <el-form-item label=\"年龄\" label-width=\"15%\">\r\n        <el-input v-model=\"user.age\" autocomplete=\"off\" style=\"width: 90%\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"电话\" label-width=\"15%\">\r\n        <el-input v-model=\"user.phone\" autocomplete=\"off\" style=\"width: 90%\"></el-input>\r\n      </el-form-item>\r\n      <!-- <el-form-item label=\"资金\" label-width=\"15%\">\r\n        <el-input v-model=\"user.zongmoney\" autocomplete=\"off\" style=\"width: 90%\"></el-input>\r\n      </el-form-item> -->\r\n    </el-form>\r\n    <div style=\"text-align: center;\">\r\n      <el-button type=\"primary\" @click=\"submit()\">保 存</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\r\n    }\r\n  },\r\n  // 页面加载的时候，做一些事情，在created里面\r\n  created() {\r\n  },\r\n  // 定义一些页面上控件出发的事件调用的方法\r\n  methods: {\r\n    submit() {\r\n      request.post(\"/user\", this.user).then(res => {\r\n        if (res.code === '0') {\r\n\r\n          this.$message.success(\"操作成功\");\r\n          this.$bus.$emit('updateAvatar', this.user)\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      })\r\n    },\r\n    txSuccessUpload(res) {\r\n      this.user.avatar = res.data;\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":"AAgCA,OAAAA,OAAA;AAEA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;EACA;EACA;EACAG,QAAA,GACA;EACA;EACAC,OAAA;IACAC,OAAA;MACAT,OAAA,CAAAU,IAAA,eAAAR,IAAA,EAAAS,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UAEA,KAAAC,QAAA,CAAAC,OAAA;UACA,KAAAC,IAAA,CAAAC,KAAA,sBAAAf,IAAA;QACA;UACA,KAAAY,QAAA,CAAAI,KAAA,CAAAN,GAAA,CAAAO,GAAA;QACA;MACA;IACA;IACAC,gBAAAR,GAAA;MACA,KAAAV,IAAA,CAAAmB,MAAA,GAAAT,GAAA,CAAAX,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}