{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"@/utils/request\";\nexport default {\n  data() {\n    return {\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    };\n  },\n  // 页面加载的时候，做一些事情，在created里面\n  created() {},\n  // 定义一些页面上控件出发的事件调用的方法\n  methods: {\n    submit() {\n      if (!this.user.password) {\n        this.$message.warning(\"请输入原密码\");\n        return;\n      }\n      if (!this.user.newPassword) {\n        this.$message.warning(\"请输入新密码\");\n        return;\n      }\n      if (!this.user.new2Password) {\n        this.$message.warning(\"请确认新密码\");\n        return;\n      }\n      if (this.user.newPassword !== this.user.new2Password) {\n        this.$message.warning(\"两次输入的密码不一致\");\n        return;\n      }\n      request.post(\"/user/password\", this.user).then(res => {\n        if (res.code === '0') {\n          this.$message.success(\"修改成功\");\n          localStorage.removeItem(\"user\");\n          this.$router.push(\"/login\");\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    txSuccessUpload(res) {\n      this.user.avatar = res.data;\n    }\n  }\n};","map":{"version":3,"names":["request","data","user","localStorage","getItem","JSON","parse","created","methods","submit","password","$message","warning","newPassword","new2Password","post","then","res","code","success","removeItem","$router","push","error","msg","txSuccessUpload","avatar"],"sources":["src/views/Password.vue"],"sourcesContent":["<template>\r\n  <div style=\"width: 50%; margin-top: 20px\">\r\n    <el-form :model=\"user\">\r\n      <el-form-item label=\"原密码\" label-width=\"15%\">\r\n        <el-input v-model=\"user.password\" show-password autocomplete=\"off\" style=\"width: 90%\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"新密码\" label-width=\"15%\">\r\n        <el-input v-model=\"user.newPassword\" show-password autocomplete=\"off\" style=\"width: 90%\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"确认密码\" label-width=\"15%\">\r\n        <el-input v-model=\"user.new2Password\" show-password autocomplete=\"off\" style=\"width: 90%\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div style=\"text-align: center;\">\r\n      <el-button type=\"primary\" @click=\"submit()\">提 交</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\r\n    }\r\n  },\r\n  // 页面加载的时候，做一些事情，在created里面\r\n  created() {\r\n  },\r\n  // 定义一些页面上控件出发的事件调用的方法\r\n  methods: {\r\n    submit() {\r\n      if (!this.user.password) {\r\n        this.$message.warning(\"请输入原密码\")\r\n        return\r\n      }\r\n      if (!this.user.newPassword) {\r\n        this.$message.warning(\"请输入新密码\")\r\n        return\r\n      }\r\n      if (!this.user.new2Password) {\r\n        this.$message.warning(\"请确认新密码\")\r\n        return\r\n      }\r\n      if (this.user.newPassword !== this.user.new2Password) {\r\n        this.$message.warning(\"两次输入的密码不一致\")\r\n        return\r\n      }\r\n      request.post(\"/user/password\", this.user).then(res => {\r\n        if (res.code === '0') {\r\n          this.$message.success(\"修改成功\");\r\n          localStorage.removeItem(\"user\");\r\n          this.$router.push(\"/login\")\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      })\r\n    },\r\n    txSuccessUpload(res) {\r\n      this.user.avatar = res.data;\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAoBA,OAAAA,OAAA;AAEA;EACAC,KAAA;IACA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;EACA;EACA;EACAG,QAAA,GACA;EACA;EACAC,OAAA;IACAC,OAAA;MACA,UAAAP,IAAA,CAAAQ,QAAA;QACA,KAAAC,QAAA,CAAAC,OAAA;QACA;MACA;MACA,UAAAV,IAAA,CAAAW,WAAA;QACA,KAAAF,QAAA,CAAAC,OAAA;QACA;MACA;MACA,UAAAV,IAAA,CAAAY,YAAA;QACA,KAAAH,QAAA,CAAAC,OAAA;QACA;MACA;MACA,SAAAV,IAAA,CAAAW,WAAA,UAAAX,IAAA,CAAAY,YAAA;QACA,KAAAH,QAAA,CAAAC,OAAA;QACA;MACA;MACAZ,OAAA,CAAAe,IAAA,wBAAAb,IAAA,EAAAc,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,IAAA;UACA,KAAAP,QAAA,CAAAQ,OAAA;UACAhB,YAAA,CAAAiB,UAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA;UACA,KAAAX,QAAA,CAAAY,KAAA,CAAAN,GAAA,CAAAO,GAAA;QACA;MACA;IACA;IACAC,gBAAAR,GAAA;MACA,KAAAf,IAAA,CAAAwB,MAAA,GAAAT,GAAA,CAAAhB,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}