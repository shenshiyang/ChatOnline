{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Layout\",\n  data() {\n    return {\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\n    };\n  },\n  mounted() {\n    this.$bus.$on('updateAvatar', avatar => {\n      this.user = avatar;\n      localStorage.setItem(\"user\", JSON.stringify(this.user));\n    });\n  },\n  methods: {\n    logout() {\n      localStorage.removeItem(\"user\");\n      this.$router.push(\"/login\");\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","localStorage","getItem","JSON","parse","mounted","$bus","$on","avatar","setItem","stringify","methods","logout","removeItem","$router","push"],"sources":["src/views/Layout.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"header\">\r\n      <div class=\"header-left\">\r\n        <img src=\"@/assets/logo.png\" alt=\"\">\r\n        <div class=\"title\">在线聊天系统</div>\r\n      </div>\r\n      <div class=\"header-center\">\r\n        <div class=\"header-nav\">\r\n        </div>\r\n      </div>\r\n      <div class=\"header-right\">\r\n        <div>\r\n          <el-dropdown>\r\n            <div class=\"header-dropdown\">\r\n              <img :src=\"user.avatar\" alt=\"\">\r\n              <div style=\"margin-left: 10px\">\r\n                <span style=\"color: white\">{{ user.name }}</span><i class=\"el-icon-arrow-down\"\r\n                  style=\"margin-left: 5px\"></i>\r\n              </div>\r\n            </div>\r\n            <el-dropdown-menu slot=\"dropdown\">\r\n              <el-dropdown-item>\r\n                <div @click=\"$router.push('/person')\">个人中心</div>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <div @click=\"$router.push('/password')\">修改密码</div>\r\n              </el-dropdown-item>\r\n              <el-dropdown-item>\r\n                <div style=\"text-decoration: none\" @click=\"logout\">退出</div>\r\n              </el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <el-container>\r\n      <el-aside style=\"overflow: hidden; min-height: 100vh; background-color: #32325d; width: 250px\">\r\n        <el-menu :default-active=\"$route.path\" default-openeds=\"[1,2,3,4]\" router background-color=\"#32325d\"\r\n          text-color=\"#ECF0F1\" active-text-color=\"#85C1E9\">\r\n          <el-submenu index=\"1\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-s-home\"></i><span>系统首页</span>\r\n            </template>\r\n            <el-menu-item index=\"/\">\r\n              <i class=\"el-icon-position\"></i>\r\n              <span slot=\"title\">系统首页</span>\r\n            </el-menu-item>\r\n          </el-submenu>\r\n          <!-- <el-submenu index=\"1\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-s-home\"></i><span>红包记录</span>\r\n            </template>\r\n            <el-menu-item index=\"/hongbao\">\r\n              <i class=\"el-icon-position\"></i>\r\n              <span slot=\"title\">红包记录</span>\r\n            </el-menu-item>\r\n          </el-submenu> -->\r\n          <el-submenu index=\"2\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-s-custom\"></i><span>聊天室</span>\r\n            </template>\r\n            <el-menu-item-group>\r\n              <el-menu-item index=\"/imSingle\">\r\n                <i class=\"el-icon-chat-round\"></i>\r\n                <span slot=\"title\">单人聊天</span>\r\n              </el-menu-item>\r\n              <el-menu-item index=\"/imGroup\">\r\n                <i class=\"el-icon-chat-dot-round\"></i>\r\n                <span slot=\"title\">群组聊天</span>\r\n              </el-menu-item>\r\n            </el-menu-item-group>\r\n          </el-submenu>\r\n          <el-submenu index=\"3\" v-if=\"user.role === 'ADMIN'\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-s-tools\"></i><span>系统管理</span>\r\n            </template>\r\n            <el-menu-item-group>\r\n              <el-menu-item index=\"/user\">\r\n                <i class=\"el-icon-user\"></i>\r\n                <span slot=\"title\">用户管理</span>\r\n              </el-menu-item>\r\n              <el-menu-item index=\"/notice\">\r\n                <i class=\"el-icon-bell\"></i>\r\n                <span slot=\"title\">系统公告</span>\r\n              </el-menu-item>\r\n              <el-menu-item index=\"4\">\r\n                <i class=\"el-icon-switch-button\"></i>\r\n                <span @click=\"logout\">退出登录</span>\r\n              </el-menu-item>\r\n            </el-menu-item-group>\r\n          </el-submenu>\r\n          <el-submenu index=\"4\">\r\n            <template slot=\"title\">\r\n              <i class=\"el-icon-s-tools\"></i><span>好友管理</span>\r\n            </template>\r\n            <el-menu-item-group>\r\n              <el-menu-item index=\"/user\">\r\n                <i class=\"el-icon-user\"></i>\r\n                <span slot=\"title\">用户列表</span>\r\n              </el-menu-item>\r\n              <el-menu-item index=\"/hyyz\">\r\n                <i class=\"el-icon-user\"></i>\r\n                <span slot=\"title\">申请列表</span>\r\n              </el-menu-item>\r\n              <el-menu-item index=\"/hy\">\r\n                <i class=\"el-icon-user\"></i>\r\n                <span slot=\"title\">好友列表</span>\r\n              </el-menu-item>\r\n            </el-menu-item-group>\r\n          </el-submenu>\r\n        </el-menu>\r\n      </el-aside>\r\n      <el-main>\r\n        <router-view />\r\n      </el-main>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Layout\",\r\n\r\n  data() {\r\n    return {\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.$bus.$on('updateAvatar', (avatar) => {\r\n      this.user = avatar\r\n      localStorage.setItem(\"user\", JSON.stringify(this.user))\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    logout() {\r\n      localStorage.removeItem(\"user\");\r\n      this.$router.push(\"/login\");\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-menu {\r\n  border-right: none !important;\r\n}\r\n\r\n.el-main {\r\n  padding: 30px;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  height: 60px;\r\n  line-height: 60px;\r\n  background: linear-gradient(to right, #32325d, #344675);\r\n  /*background: #525f7f;*/\r\n}\r\n\r\n.header-left {\r\n  width: 280px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 30px;\r\n}\r\n\r\n.header-left img,\r\n.header-dropdown img {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%\r\n}\r\n\r\n.header-left .title {\r\n  flex: 1;\r\n  color: #ffffff;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n\r\n.header-center {\r\n  flex: 1;\r\n}\r\n\r\n.header-right {\r\n  width: 200px;\r\n  padding-right: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.header-dropdown {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: right;\r\n}\r\n\r\n.el-dropdown-menu {\r\n  width: 100px !important;\r\n  text-align: center !important;\r\n}\r\n</style>\r\n"],"mappings":";AA0HA;EACAA,IAAA;EAEAC,KAAA;IACA;MACAC,IAAA,EAAAC,YAAA,CAAAC,OAAA,WAAAC,IAAA,CAAAC,KAAA,CAAAH,YAAA,CAAAC,OAAA;IACA;EACA;EAEAG,QAAA;IACA,KAAAC,IAAA,CAAAC,GAAA,iBAAAC,MAAA;MACA,KAAAR,IAAA,GAAAQ,MAAA;MACAP,YAAA,CAAAQ,OAAA,SAAAN,IAAA,CAAAO,SAAA,MAAAV,IAAA;IACA;EACA;EAEAW,OAAA;IACAC,OAAA;MACAX,YAAA,CAAAY,UAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}