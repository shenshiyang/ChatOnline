{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport request from \"@/utils/request\";\nimport PieChart from '@/views/PieChart';\nimport PieChart2 from '@/views/PieChart2';\nexport default {\n  components: {\n    PieChart,\n    PieChart2\n  },\n  data() {\n    return {\n      params: {\n        name: '',\n        phone: '',\n        pageNum: 1,\n        pageSize: 5\n      },\n      tableData: [],\n      total: 0,\n      dialogFormVisible: false,\n      form: {}\n    };\n  },\n  // 页面加载的时候，做一些事情，在created里面\n  created() {\n    this.findBySearch();\n  },\n  // 定义一些页面上控件出发的事件调用的方法\n  methods: {\n    findBySearch() {\n      request.get('/logs').then(res => {\n        console.log(\"res\", res);\n        if (res.code === '0') {\n          let xxx = [];\n          res.data.forEach(item => {\n            if (item.name == JSON.parse(localStorage.getItem(\"user\")).name) {\n              if (item.type == 0) {\n                item.content = \"-\" + item.content;\n              } else {\n                item.content = \"+\" + item.content;\n              }\n              xxx.push(item);\n            }\n          });\n          this.tableData = xxx;\n          this.total = xxx.length;\n        } else {\n          this.$message({\n            message: res.msg,\n            type: 'success'\n          });\n        }\n      });\n    },\n    add() {\n      this.form = {};\n      this.dialogFormVisible = true;\n    },\n    edit(obj) {\n      this.form = obj;\n      this.dialogFormVisible = true;\n    },\n    reset() {\n      this.params = {\n        pageNum: 1,\n        pageSize: 5,\n        name: '',\n        phone: ''\n      };\n      this.findBySearch();\n    },\n    handleSizeChange(pageSize) {\n      this.params.pageSize = pageSize;\n      this.findBySearch();\n    },\n    handleCurrentChange(pageNum) {\n      this.params.pageNum = pageNum;\n      this.findBySearch();\n    },\n    submit() {\n      request.post(\"/user\", this.form).then(res => {\n        if (res.code === '0') {\n          this.$message({\n            message: '操作成功',\n            type: 'success'\n          });\n          this.dialogFormVisible = false;\n          this.findBySearch();\n        } else {\n          this.$message({\n            message: res.msg,\n            type: 'error'\n          });\n        }\n      });\n    },\n    del(id) {\n      request.delete(\"/user/\" + id).then(res => {\n        if (res.code === '0') {\n          this.$message({\n            message: '删除成功',\n            type: 'success'\n          });\n          this.findBySearch();\n        } else {\n          this.$message({\n            message: res.msg,\n            type: 'success'\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["request","PieChart","PieChart2","components","data","params","name","phone","pageNum","pageSize","tableData","total","dialogFormVisible","form","created","findBySearch","methods","get","then","res","console","log","code","xxx","forEach","item","JSON","parse","localStorage","getItem","type","content","push","length","$message","message","msg","add","edit","obj","reset","handleSizeChange","handleCurrentChange","submit","post","del","id","delete"],"sources":["src/views/hongbao.vue"],"sourcesContent":["<template>\r\n  <div>\r\n\r\n    <div>\r\n      <el-table border :data=\"tableData\" style=\"width: 100%\">\r\n        <el-table-column align=\"center\" label=\"头像\">\r\n          <template v-slot=\"scope\">\r\n            <el-image :src=\"scope.row.avatar\" :preview-src-list=\"[scope.row.avatar]\" style=\"width: 50px; height: 50px; border-radius: 50%\"></el-image>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column align=\"center\" prop=\"name\" label=\"姓名\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"content\" label=\"红包明细\"></el-table-column>\r\n        <el-table-column align=\"center\" prop=\"time\" label=\"时间\"></el-table-column>\r\n\r\n      </el-table>\r\n    </div>\r\n\r\n\r\n    <el-col :xs=\"24\" :sm=\"24\" :lg=\"8\"  >\r\n      <div class=\"chart-wrapper\">\r\n        <pie-chart />\r\n      </div>\r\n    </el-col>\r\n    <el-col :xs=\"24\" :sm=\"24\" :lg=\"8\"  >\r\n      <div class=\"chart-wrapper\">\r\n        <pie-chart2 />\r\n      </div>\r\n    </el-col>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport PieChart from '@/views/PieChart'\r\nimport PieChart2 from '@/views/PieChart2'\r\nexport default {\r\n  components: {\r\n\r\n    PieChart,\r\n    PieChart2\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      params: {\r\n        name: '',\r\n        phone: '',\r\n        pageNum: 1,\r\n        pageSize: 5\r\n      },\r\n      tableData: [],\r\n      total: 0,\r\n      dialogFormVisible: false,\r\n      form: {}\r\n    }\r\n  },\r\n  // 页面加载的时候，做一些事情，在created里面\r\n  created() {\r\n    this.findBySearch();\r\n  },\r\n  // 定义一些页面上控件出发的事件调用的方法\r\n  methods: {\r\n    findBySearch() {\r\n      request.get('/logs').then(res => {\r\nconsole.log(\"res\",res)\r\n        if (res.code === '0') {\r\n          let xxx=[]\r\n          res.data.forEach(item=>{\r\n            if(item.name==JSON.parse(localStorage.getItem(\"user\")).name){\r\n              if(item.type==0){\r\n                item.content=\"-\"+item.content\r\n              }else {\r\n                item.content=\"+\"+item.content\r\n              }\r\n              xxx.push(item)\r\n\r\n            }\r\n          })\r\n\r\n          this.tableData = xxx;\r\n          this.total = xxx.length;\r\n        } else {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: 'success'\r\n          });\r\n        }\r\n      })\r\n    },\r\n    add() {\r\n      this.form = {};\r\n      this.dialogFormVisible = true;\r\n    },\r\n    edit(obj) {\r\n      this.form = obj;\r\n      this.dialogFormVisible = true;\r\n    },\r\n    reset() {\r\n      this.params = {\r\n        pageNum: 1,\r\n        pageSize: 5,\r\n        name: '',\r\n        phone: ''\r\n      }\r\n      this.findBySearch();\r\n    },\r\n    handleSizeChange(pageSize) {\r\n      this.params.pageSize = pageSize;\r\n      this.findBySearch();\r\n    },\r\n    handleCurrentChange(pageNum) {\r\n      this.params.pageNum = pageNum;\r\n      this.findBySearch();\r\n    },\r\n    submit() {\r\n      request.post(\"/user\", this.form).then(res => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            message: '操作成功',\r\n            type: 'success'\r\n          });\r\n          this.dialogFormVisible = false;\r\n          this.findBySearch();\r\n        } else {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: 'error'\r\n          });\r\n        }\r\n      })\r\n    },\r\n    del(id) {\r\n      request.delete(\"/user/\" + id).then(res => {\r\n        if (res.code === '0') {\r\n          this.$message({\r\n            message: '删除成功',\r\n            type: 'success'\r\n          });\r\n          this.findBySearch();\r\n        } else {\r\n          this.$message({\r\n            message: res.msg,\r\n            type: 'success'\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";AAgCA,OAAAA,OAAA;AACA,OAAAC,QAAA;AACA,OAAAC,SAAA;AACA;EACAC,UAAA;IAEAF,QAAA;IACAC;EAEA;EACAE,KAAA;IACA;MACAC,MAAA;QACAC,IAAA;QACAC,KAAA;QACAC,OAAA;QACAC,QAAA;MACA;MACAC,SAAA;MACAC,KAAA;MACAC,iBAAA;MACAC,IAAA;IACA;EACA;EACA;EACAC,QAAA;IACA,KAAAC,YAAA;EACA;EACA;EACAC,OAAA;IACAD,aAAA;MACAf,OAAA,CAAAiB,GAAA,UAAAC,IAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,QAAAF,GAAA;QACA,IAAAA,GAAA,CAAAG,IAAA;UACA,IAAAC,GAAA;UACAJ,GAAA,CAAAf,IAAA,CAAAoB,OAAA,CAAAC,IAAA;YACA,IAAAA,IAAA,CAAAnB,IAAA,IAAAoB,IAAA,CAAAC,KAAA,CAAAC,YAAA,CAAAC,OAAA,UAAAvB,IAAA;cACA,IAAAmB,IAAA,CAAAK,IAAA;gBACAL,IAAA,CAAAM,OAAA,SAAAN,IAAA,CAAAM,OAAA;cACA;gBACAN,IAAA,CAAAM,OAAA,SAAAN,IAAA,CAAAM,OAAA;cACA;cACAR,GAAA,CAAAS,IAAA,CAAAP,IAAA;YAEA;UACA;UAEA,KAAAf,SAAA,GAAAa,GAAA;UACA,KAAAZ,KAAA,GAAAY,GAAA,CAAAU,MAAA;QACA;UACA,KAAAC,QAAA;YACAC,OAAA,EAAAhB,GAAA,CAAAiB,GAAA;YACAN,IAAA;UACA;QACA;MACA;IACA;IACAO,IAAA;MACA,KAAAxB,IAAA;MACA,KAAAD,iBAAA;IACA;IACA0B,KAAAC,GAAA;MACA,KAAA1B,IAAA,GAAA0B,GAAA;MACA,KAAA3B,iBAAA;IACA;IACA4B,MAAA;MACA,KAAAnC,MAAA;QACAG,OAAA;QACAC,QAAA;QACAH,IAAA;QACAC,KAAA;MACA;MACA,KAAAQ,YAAA;IACA;IACA0B,iBAAAhC,QAAA;MACA,KAAAJ,MAAA,CAAAI,QAAA,GAAAA,QAAA;MACA,KAAAM,YAAA;IACA;IACA2B,oBAAAlC,OAAA;MACA,KAAAH,MAAA,CAAAG,OAAA,GAAAA,OAAA;MACA,KAAAO,YAAA;IACA;IACA4B,OAAA;MACA3C,OAAA,CAAA4C,IAAA,eAAA/B,IAAA,EAAAK,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAG,IAAA;UACA,KAAAY,QAAA;YACAC,OAAA;YACAL,IAAA;UACA;UACA,KAAAlB,iBAAA;UACA,KAAAG,YAAA;QACA;UACA,KAAAmB,QAAA;YACAC,OAAA,EAAAhB,GAAA,CAAAiB,GAAA;YACAN,IAAA;UACA;QACA;MACA;IACA;IACAe,IAAAC,EAAA;MACA9C,OAAA,CAAA+C,MAAA,YAAAD,EAAA,EAAA5B,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAG,IAAA;UACA,KAAAY,QAAA;YACAC,OAAA;YACAL,IAAA;UACA;UACA,KAAAf,YAAA;QACA;UACA,KAAAmB,QAAA;YACAC,OAAA,EAAAhB,GAAA,CAAAiB,GAAA;YACAN,IAAA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}