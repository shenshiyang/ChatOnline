{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport request from \"@/utils/request\";\nimport emojis from \"@/assets/emoji\";\nimport hongbao from \"@/assets/hongbao.png\";\nimport axios from 'axios';\nlet client;\nexport default {\n  data() {\n    return {\n      jiluopen: false,\n      money: \"\",\n      shuliang: \"\",\n      hongbaoopen: false,\n      url: \"http://localhost:8080/api/files/kai.png\",\n      hongbao: hongbao,\n      user: {},\n      permission: [],\n      emojis: [],\n      messages: [],\n      users: []\n    };\n  },\n  // 页面加载的时候，做一些事情，在created里面\n  mounted() {\n    this.emojis = emojis.split(\",\");\n    this.user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\n    let name = window.btoa(encodeURI(this.user.name));\n    let avatar = window.btoa(encodeURI(this.user.avatar));\n    client = new WebSocket(`ws://localhost:8080/imserver/${name}/${avatar}`);\n    client.onopen = () => {\n      console.log(\"websocket open\");\n    };\n    client.onclose = () => {\n      // 页面刷新的时候和后台websocket服务关闭的时候\n      console.log(\"websocket close\");\n    };\n    client.onmessage = msg => {\n      if (msg.data) {\n        let json = JSON.parse(msg.data);\n        if (json.name && json.content) {\n          // 聊天消息\n          this.messages.push(json);\n          this.scrollToBottom(); // 滚动页面到最底部\n        }\n        if (json.users && json.users.length) {\n          this.users = json.users;\n          console.log(\"onmessage\", this.users);\n        }\n      }\n    };\n    // 加载聊天数据\n    this.load();\n  },\n  beforeDestroy() {\n    if (client) {\n      client.close();\n    }\n  },\n  // 定义一些页面上控件出发的事件调用的方法\n  methods: {\n    submitForm() {\n      let xxx = JSON.parse(localStorage.getItem(\"user\")).zongmoney;\n      let yyy = JSON.parse(localStorage.getItem(\"user\"));\n      console.log(\"this.money\", this.money);\n      console.log(\"this.shuliang\", this.shuliang);\n      console.log(\"xxx\", xxx);\n      if (this.money && this.shuliang) {\n        if (this.money * 1 > xxx * 1) {\n          this.$message.error(\"账户余额不够\");\n        } else {\n          if (client) {\n            let message = {\n              name: this.user.name,\n              content: \"http://localhost:8080/api/files/cai.png\",\n              avatar: this.user.avatar,\n              type: \"img\",\n              money: this.money,\n              shuliang: this.shuliang\n            };\n            client.send(JSON.stringify(message));\n            this.$message.success(\"红包发送成功！\");\n            yyy.zongmoney = yyy.zongmoney * 1 - this.money * 1;\n            request.post(\"/user\", yyy).then(res => {\n              if (res.code === \"0\") {\n                // this.$message.success(\"操作成功\");\n                localStorage.setItem(\"user\", JSON.stringify(yyy));\n              } else {\n                this.$message.error(res.msg);\n              }\n            });\n            const now = new Date();\n            const dateString = now.getFullYear() + \"-\" + (now.getMonth() + 1).toString().padStart(2, \"0\") + \"-\" + now.getDate().toString().padStart(2, \"0\");\n            request.post(\"/logs\", {\n              name: this.user.name,\n              content: this.money,\n              avatar: this.user.avatar,\n              type: 0,\n              time: dateString\n            }).then(res => {\n              if (res.code === \"0\") {\n                // this.$message.success(\"操作成功\");\n                // localStorage.setItem(\"user\", JSON.stringify(yyy))\n              } else {\n                this.$message.error(res.msg);\n              }\n            });\n            this.hongbaoopen = false;\n          }\n        }\n      } else {\n        this.$message.error(\"请填写完整红包信息\");\n      }\n    },\n    cancel() {\n      this.hongbaoopen = false;\n    },\n    getRandomNumber(min, max) {\n      var result;\n      do {\n        // 生成0到1之间的随机数\n        var randomNumber = Math.random();\n        // 将随机数映射到指定范围内\n        var scaledNumber = randomNumber * (max - min) + min;\n        // 保留两位小数\n        result = parseFloat(scaledNumber.toFixed(2));\n      } while (result == min || result == max); // 如果随机数等于min或max，则重新生成\n      return result;\n    },\n    dakai(e) {\n      console.log(\"e\", e);\n\n      // 示例用法：生成0到10之间的随机数（包括0和10）\n\n      if (e.content == \"http://localhost:8080/api/files/cai.png\") {\n        // request.get('/logs').then(res => {\n        //   console.log(\"logslogs\",res)\n        //\n        // })\n        request.get(\"/logs\").then(res => {\n          console.log(\"logslogs\", res);\n          if (res.code === \"0\") {\n            let xxx = [];\n            let yyy = 0;\n            let zzz = 0;\n            res.data.forEach(item => {\n              if (item.type == e.id) {\n                xxx.push(item);\n                yyy = yyy * 1 + item.content * 1;\n                if (item.name == JSON.parse(localStorage.getItem(\"user\")).name) {\n                  zzz = 1;\n                }\n              }\n            });\n            //限领一次\n            if (zzz == 1) {\n              this.$message.error(\"您已经领过该红包！\");\n            } else {\n              if (xxx.length < e.shuliang) {\n                const now = new Date();\n                const dateString = now.getFullYear() + \"-\" + (now.getMonth() + 1).toString().padStart(2, \"0\") + \"-\" + now.getDate().toString().padStart(2, \"0\");\n                if (xxx.length == e.shuliang * 1 - 1) {\n                  request.post(\"/logs\", {\n                    name: this.user.name,\n                    content: e.money * 1 - yyy * 1,\n                    avatar: this.user.avatar,\n                    type: e.id,\n                    time: dateString\n                  }).then(res => {\n                    console.log(\"领红包\", res);\n                    if (res.code === \"0\") {\n                      let userinfo = JSON.parse(localStorage.getItem(\"user\"));\n                      userinfo.zongmoney = userinfo.zongmoney * 1 + e.money * 1 - yyy * 1;\n                      request.post(\"/user\", userinfo).then(res2 => {\n                        if (res2.code === \"0\") {\n                          // this.$message.success(\"操作成功\");\n                          localStorage.setItem(\"user\", JSON.stringify(userinfo));\n                          this.$message.success(\"红包领取成功!金额：\" + res.data.content + \"元\");\n                        } else {\n                          this.$message.error(res2.msg);\n                        }\n                      });\n                    } else {\n                      this.$message.error(res.msg);\n                    }\n                  });\n                } else {\n                  var randomNum = this.getRandomNumber(0, e.money * 1 - yyy * 1);\n                  console.log(randomNum);\n                  request.post(\"/logs\", {\n                    name: this.user.name,\n                    content: randomNum,\n                    avatar: this.user.avatar,\n                    type: e.id,\n                    time: dateString\n                  }).then(res => {\n                    console.log(\"领红包\", res);\n                    if (res.code === \"0\") {\n                      let userinfo = JSON.parse(localStorage.getItem(\"user\"));\n                      userinfo.zongmoney = userinfo.zongmoney * 1 + randomNum * 1;\n                      request.post(\"/user\", userinfo).then(res2 => {\n                        if (res2.code === \"0\") {\n                          // this.$message.success(\"操作成功\");\n                          localStorage.setItem(\"user\", JSON.stringify(userinfo));\n                          this.$message.success(\"红包领取成功!金额：\" + res.data.content + \"元\");\n                        } else {\n                          this.$message.error(res2.msg);\n                        }\n                      });\n                    } else {\n                      this.$message.error(res.msg);\n                    }\n                  });\n                }\n              } else {\n                this.$message.error(\"红包已领完\");\n              }\n            }\n\n            // this.$message.success('欢迎进入群组聊天室')\n          } else {\n            this.$message.error(res.msg);\n          }\n        });\n        // this.$message.success('恭喜抢到红包！')\n      }\n    },\n    facai() {\n      this.money = \"\";\n      this.shuliang = \"\";\n      this.hongbaoopen = true;\n    },\n    download(file) {\n      window.open(file);\n    },\n    handleFile(file) {\n      if (client) {\n        let message = {\n          name: this.user.name,\n          content: file.data,\n          avatar: this.user.avatar\n        };\n        let extName = file.data.substring(file.data.lastIndexOf(\".\") + 1);\n        if ([\"png\", \"jpg\", \"jpeg\", \"gif\", \"bmp\", \"tiff\", \"svg\", \"webp\"].includes(extName)) {\n          message.type = \"img\";\n        } else {\n          message.type = \"file\";\n        }\n        client.send(JSON.stringify(message));\n      }\n    },\n    load() {\n      request.get(\"/imGroup\").then(res => {\n        if (res.code === \"0\") {\n          this.messages = res.data;\n          this.scrollToBottom(); // 滚动条滚动到最底部\n          this.$message.success(\"欢迎进入群组聊天室\");\n        } else {\n          this.$message.error(res.msg);\n        }\n      });\n    },\n    send() {\n      let inputBox = document.getElementById(\"im-content\");\n      const content = inputBox.innerHTML;\n      if (!content) {\n        this.$notify.error(\"请输入聊天内容\");\n        return;\n      }\n      if (client) {\n        let message = {\n          name: this.user.name,\n          content: content,\n          avatar: this.user.avatar,\n          type: \"text\"\n        };\n        client.send(JSON.stringify(message));\n      }\n      inputBox.innerHTML = \"\"; // 清空输入框\n    },\n    clickEmoji(emoji) {\n      document.getElementById(\"im-content\").innerHTML += emoji;\n    },\n    scrollToBottom() {\n      this.$nextTick(() => {\n        // 设置聊天滚动条到底部\n        let imMessageBox = document.getElementsByClassName(\"im-message-box\")[0];\n        //设置滚动条到最底部\n        imMessageBox.scrollTop = imMessageBox.scrollHeight;\n      });\n    },\n    don() {\n      axios({\n        url: \"http://localhost:8080/api/imGroup/don\",\n        method: 'GET',\n        responseType: 'blob' // 重要：设置响应类型为blob\n      }).then(response => {\n        const blob = new Blob([response.data], {\n          type: 'application/octet-stream'\n        });\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.download = '群组的聊天记录.xls'; // 设置下载文件名\n        link.click();\n      }).catch(error => {\n        console.error('下载文件时发生错误:', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["request","emojis","hongbao","axios","client","data","jiluopen","money","shuliang","hongbaoopen","url","user","permission","messages","users","mounted","split","JSON","parse","localStorage","getItem","name","window","btoa","encodeURI","avatar","WebSocket","onopen","console","log","onclose","onmessage","msg","json","content","push","scrollToBottom","length","load","beforeDestroy","close","methods","submitForm","xxx","zongmoney","yyy","$message","error","message","type","send","stringify","success","post","then","res","code","setItem","now","Date","dateString","getFullYear","getMonth","toString","padStart","getDate","time","cancel","getRandomNumber","min","max","result","randomNumber","Math","random","scaledNumber","parseFloat","toFixed","dakai","e","get","zzz","forEach","item","id","userinfo","res2","randomNum","facai","download","file","open","handleFile","extName","substring","lastIndexOf","includes","inputBox","document","getElementById","innerHTML","$notify","clickEmoji","emoji","$nextTick","imMessageBox","getElementsByClassName","scrollTop","scrollHeight","don","method","responseType","response","blob","Blob","link","createElement","href","URL","createObjectURL","click","catch"],"sources":["src/views/ImGoup.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"main-body-content\">\r\n      <div style=\"display: flex; align-items: flex-start\">\r\n        <div\r\n          style=\"\r\n            width: 200px;\r\n            margin-right: 10px;\r\n            border: 1px solid #ddd;\r\n            border-radius: 5px;\r\n          \"\r\n        >\r\n          <div\r\n            style=\"\r\n              padding: 20px 10px;\r\n              border-bottom: 1px solid #ddd;\r\n              color: #000;\r\n              background-color: #eee;\r\n            \"\r\n          >\r\n            在线用户({{ users.length }})\r\n          </div>\r\n          <div class=\"user-list-box\">\r\n            <div\r\n              class=\"user-list-item\"\r\n              v-for=\"(item, index) in users\"\r\n              :key=\"index\"\r\n            >\r\n              <img\r\n                :src=\"item.avatar\"\r\n                style=\"width: 30px; height: 30px; border-radius: 50%\"\r\n              />\r\n              <span style=\"margin-left: 10px\">{{ item.name }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!--  中间部分  -->\r\n        <div\r\n          style=\"\r\n            width: 50%;\r\n            border: 1px solid #ddd;\r\n            border-radius: 5px;\r\n            background-color: #f1f1f1;\r\n          \"\r\n        >\r\n          <div\r\n            style=\"\r\n              padding: 20px 0;\r\n              text-align: center;\r\n              border-bottom: 1px solid #ddd;\r\n              color: #000;\r\n              background-color: #eee;\r\n            \"\r\n          >\r\n            聊天室\r\n          </div>\r\n          <div class=\"im-message-box\">\r\n            <div v-for=\"item in messages\" :key=\"item.id\">\r\n              <!--  右边的气泡 -->\r\n              <div\r\n                style=\"\r\n                  display: flex;\r\n                  flex-direction: row-reverse;\r\n                  align-items: flex-start;\r\n                \"\r\n                v-if=\"item.name === user.name\"\r\n              >\r\n                <img\r\n                  :src=\"item.avatar\"\r\n                  alt=\"\"\r\n                  style=\"\r\n                    width: 40px;\r\n                    height: 40px;\r\n                    border-radius: 50%;\r\n                    margin-left: 10px;\r\n                  \"\r\n                />\r\n                <div\r\n                  class=\"im-message im-message-right\"\r\n                  v-html=\"item.content\"\r\n                  v-if=\"item.type === 'text'\"\r\n                ></div>\r\n                <div\r\n                  class=\"im-message\"\r\n                  style=\"padding: 0\"\r\n                  v-if=\"item.type === 'img'\"\r\n                  @click=\"dakai(item)\"\r\n                >\r\n                  <!-- 注意  el-image 的load函数必须加上，否则无法触发滚动条到最底端 -->\r\n                  <el-image\r\n                    v-if=\"item.content == 'http://localhost:8080/api/files/cai.png'\"\r\n                    style=\"width: 200px\"\r\n                    :src=\"item.content\"\r\n                    alt=\"\"\r\n                    :preview-src-list=\"[url]\"\r\n                    @load=\"scrollToBottom\"\r\n                  ></el-image>\r\n                  <el-image\r\n                    v-else\r\n                    style=\"width: 100px\"\r\n                    :src=\"item.content\"\r\n                    alt=\"\"\r\n                    :preview-src-list=\"[item.content]\"\r\n                    @load=\"scrollToBottom\"\r\n                  ></el-image>\r\n                </div>\r\n                <div\r\n                  class=\"im-message im-message-download\"\r\n                  v-if=\"item.type === 'file'\"\r\n                  @click=\"download(item.content)\"\r\n                >\r\n                  <div>\r\n                    <i class=\"el-icon-folder-opened\"></i>\r\n                    <span>{{\r\n                      item.content.substring(item.content.indexOf(\"-\") + 1)\r\n                    }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!--  左边的气泡 -->\r\n              <div style=\"display: flex; align-items: flex-start\" v-else>\r\n                <img\r\n                  :src=\"item.avatar\"\r\n                  alt=\"\"\r\n                  style=\"\r\n                    width: 40px;\r\n                    height: 40px;\r\n                    border-radius: 50%;\r\n                    margin-right: 10px;\r\n                  \"\r\n                />\r\n                <div style=\"width: 100%\">\r\n                  <div style=\"color: #888; font-size: 12px; width: 50%\">\r\n                    {{ item.name }}\r\n                  </div>\r\n                  <div\r\n                    class=\"im-message im-message-left\"\r\n                    v-html=\"item.content\"\r\n                    v-if=\"item.type === 'text'\"\r\n                  ></div>\r\n                  <div\r\n                    class=\"im-message\"\r\n                    style=\"padding: 0\"\r\n                    v-if=\"item.type === 'img'\"\r\n                    @click=\"dakai(item)\"\r\n                  >\r\n                    <!-- 注意  el-image 的load函数必须加上，否则无法触发滚动条到最底端 -->\r\n                    <el-image\r\n                      v-if=\"\r\n                        item.content == 'http://localhost:8080/api/files/cai.png'\r\n                      \"\r\n                      style=\"width: 200px\"\r\n                      :src=\"item.content\"\r\n                      alt=\"\"\r\n                      :preview-src-list=\"[url]\"\r\n                      @load=\"scrollToBottom\"\r\n                    ></el-image>\r\n\r\n                    <el-image\r\n                      v-else\r\n                      style=\"width: 100px\"\r\n                      :src=\"item.content\"\r\n                      alt=\"\"\r\n                      :preview-src-list=\"[item.content]\"\r\n                      @load=\"scrollToBottom\"\r\n                    ></el-image>\r\n                  </div>\r\n                  <div\r\n                    class=\"im-message im-message-download\"\r\n                    v-if=\"item.type === 'file'\"\r\n                    @click=\"download(item.content)\"\r\n                  >\r\n                    <div>\r\n                      <i class=\"el-icon-folder-opened\"></i>\r\n                      <span>{{\r\n                        item.content.substring(item.content.indexOf(\"-\") + 1)\r\n                      }}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 输入区域 -->\r\n          <div\r\n            style=\"\r\n              padding: 10px 5px;\r\n              border-top: 1px solid #ddd;\r\n              display: flex;\r\n              align-items: center;\r\n              width: 100%;\r\n            \"\r\n          >\r\n            <el-popover placement=\"top\" width=\"300\" trigger=\"click\">\r\n              <div class=\"emoji-box\">\r\n                <span\r\n                  v-for=\"(item, index) in emojis\"\r\n                  :key=\"index\"\r\n                  style=\"margin-right: 5px; font-size: 20px; cursor: pointer\"\r\n                  v-html=\"item\"\r\n                  @click=\"clickEmoji(item)\"\r\n                ></span>\r\n              </div>\r\n              <i\r\n                slot=\"reference\"\r\n                class=\"fa fa-smile-o\"\r\n                style=\"font-size: 22px; color: #666\"\r\n              ></i>\r\n            </el-popover>\r\n            <div style=\"margin-left: 5px\">\r\n              <el-upload\r\n                action=\"http://localhost:8080/api/files/upload\"\r\n                :show-file-list=\"false\"\r\n                :on-success=\"handleFile\"\r\n              >\r\n                <i\r\n                  class=\"fa fa-folder-open-o\"\r\n                  style=\"font-size: 20px; color: #666\"\r\n                ></i>\r\n              </el-upload>\r\n            </div>\r\n\r\n            <!-- <div style=\"margin-left: 5px\">\r\n              <el-image :src=\"hongbao\" style=\"width: 27px;height: 27px;\" @click=\"facai\"></el-image>\r\n            </div> -->\r\n\r\n            <div\r\n              id=\"im-content\"\r\n              contenteditable\r\n              style=\"\r\n                flex: 1;\r\n                background-color: #fff;\r\n                margin: 0 5px;\r\n                padding: 10px;\r\n                border: 1px solid #ddd;\r\n                border-radius: 2px;\r\n                outline: none;\r\n                font-size: 14px;\r\n              \"\r\n            ></div>\r\n            <!-- <el-button type=\"primary\" @click=\"don\" style=\"border: none\"\r\n              >下载聊天记录</el-button\r\n            > -->\r\n            <el-button type=\"primary\" @click=\"send\" style=\"border: none\"\r\n              >发送</el-button\r\n            >\r\n          </div>\r\n        </div>\r\n        <!--  中间部分结束  -->\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 添加或修改服务活动管理对话框 -->\r\n    <el-dialog\r\n      title=\"红包信息\"\r\n      :visible.sync=\"hongbaoopen\"\r\n      width=\"50%\"\r\n      append-to-body\r\n    >\r\n      <el-form ref=\"form\" label-width=\"90px\">\r\n        <el-form-item label=\"红包金额\" prop=\"money\">\r\n          <el-input\r\n            oninput=\"value=value.replace(/[^0-9.]/g,'')\"\r\n            v-model=\"money\"\r\n            placeholder=\"请输入红包金额\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"领取人数\" prop=\"shuliang\">\r\n          <el-input\r\n            oninput=\"value=value.replace(/[^\\d]/g,'')\"\r\n            v-model=\"shuliang\"\r\n            placeholder=\"请输入领取人数\"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport emojis from \"@/assets/emoji\";\r\nimport hongbao from \"@/assets/hongbao.png\";\r\nimport axios from 'axios';\r\n\r\nlet client;\r\nexport default {\r\n  data() {\r\n    return {\r\n      jiluopen: false,\r\n      money: \"\",\r\n      shuliang: \"\",\r\n      hongbaoopen: false,\r\n      url: \"http://localhost:8080/api/files/kai.png\",\r\n      hongbao: hongbao,\r\n      user: {},\r\n      permission: [],\r\n      emojis: [],\r\n      messages: [],\r\n      users: [],\r\n    };\r\n  },\r\n\r\n  // 页面加载的时候，做一些事情，在created里面\r\n  mounted() {\r\n    this.emojis = emojis.split(\",\");\r\n    this.user = JSON.parse(localStorage.getItem(\"user\") || \"{}\");\r\n\r\n    let name = window.btoa(encodeURI(this.user.name));\r\n    let avatar = window.btoa(encodeURI(this.user.avatar));\r\n\r\n    client = new WebSocket(`ws://localhost:8080/imserver/${name}/${avatar}`);\r\n    client.onopen = () => {\r\n      console.log(\"websocket open\");\r\n    };\r\n    client.onclose = () => {\r\n      // 页面刷新的时候和后台websocket服务关闭的时候\r\n      console.log(\"websocket close\");\r\n    };\r\n    client.onmessage = (msg) => {\r\n      if (msg.data) {\r\n        let json = JSON.parse(msg.data);\r\n        if (json.name && json.content) {\r\n          // 聊天消息\r\n          this.messages.push(json);\r\n          this.scrollToBottom(); // 滚动页面到最底部\r\n        }\r\n        if (json.users && json.users.length) {\r\n          this.users = json.users;\r\n          console.log(\"onmessage\", this.users);\r\n        }\r\n      }\r\n    };\r\n    // 加载聊天数据\r\n    this.load();\r\n  },\r\n  beforeDestroy() {\r\n    if (client) {\r\n      client.close();\r\n    }\r\n  },\r\n  // 定义一些页面上控件出发的事件调用的方法\r\n  methods: {\r\n    submitForm() {\r\n      let xxx = JSON.parse(localStorage.getItem(\"user\")).zongmoney;\r\n      let yyy = JSON.parse(localStorage.getItem(\"user\"));\r\n      console.log(\"this.money\", this.money);\r\n      console.log(\"this.shuliang\", this.shuliang);\r\n      console.log(\"xxx\", xxx);\r\n      if (this.money && this.shuliang) {\r\n        if (this.money * 1 > xxx * 1) {\r\n          this.$message.error(\"账户余额不够\");\r\n        } else {\r\n          if (client) {\r\n            let message = {\r\n              name: this.user.name,\r\n              content: \"http://localhost:8080/api/files/cai.png\",\r\n              avatar: this.user.avatar,\r\n              type: \"img\",\r\n              money: this.money,\r\n              shuliang: this.shuliang,\r\n            };\r\n            client.send(JSON.stringify(message));\r\n            this.$message.success(\"红包发送成功！\");\r\n\r\n            yyy.zongmoney = yyy.zongmoney * 1 - this.money * 1;\r\n            request.post(\"/user\", yyy).then((res) => {\r\n              if (res.code === \"0\") {\r\n                // this.$message.success(\"操作成功\");\r\n                localStorage.setItem(\"user\", JSON.stringify(yyy));\r\n              } else {\r\n                this.$message.error(res.msg);\r\n              }\r\n            });\r\n\r\n            const now = new Date();\r\n            const dateString =\r\n              now.getFullYear() +\r\n              \"-\" +\r\n              (now.getMonth() + 1).toString().padStart(2, \"0\") +\r\n              \"-\" +\r\n              now.getDate().toString().padStart(2, \"0\");\r\n\r\n            request\r\n              .post(\"/logs\", {\r\n                name: this.user.name,\r\n                content: this.money,\r\n                avatar: this.user.avatar,\r\n                type: 0,\r\n                time: dateString,\r\n              })\r\n              .then((res) => {\r\n                if (res.code === \"0\") {\r\n                  // this.$message.success(\"操作成功\");\r\n                  // localStorage.setItem(\"user\", JSON.stringify(yyy))\r\n                } else {\r\n                  this.$message.error(res.msg);\r\n                }\r\n              });\r\n\r\n            this.hongbaoopen = false;\r\n          }\r\n        }\r\n      } else {\r\n        this.$message.error(\"请填写完整红包信息\");\r\n      }\r\n    },\r\n    cancel() {\r\n      this.hongbaoopen = false;\r\n    },\r\n    getRandomNumber(min, max) {\r\n      var result;\r\n      do {\r\n        // 生成0到1之间的随机数\r\n        var randomNumber = Math.random();\r\n        // 将随机数映射到指定范围内\r\n        var scaledNumber = randomNumber * (max - min) + min;\r\n        // 保留两位小数\r\n        result = parseFloat(scaledNumber.toFixed(2));\r\n      } while (result == min || result == max); // 如果随机数等于min或max，则重新生成\r\n      return result;\r\n    },\r\n    dakai(e) {\r\n      console.log(\"e\", e);\r\n\r\n      // 示例用法：生成0到10之间的随机数（包括0和10）\r\n\r\n      if (e.content == \"http://localhost:8080/api/files/cai.png\") {\r\n        // request.get('/logs').then(res => {\r\n        //   console.log(\"logslogs\",res)\r\n        //\r\n        // })\r\n        request.get(\"/logs\").then((res) => {\r\n          console.log(\"logslogs\", res);\r\n          if (res.code === \"0\") {\r\n            let xxx = [];\r\n            let yyy = 0;\r\n            let zzz = 0;\r\n            res.data.forEach((item) => {\r\n              if (item.type == e.id) {\r\n                xxx.push(item);\r\n                yyy = yyy * 1 + item.content * 1;\r\n                if (\r\n                  item.name == JSON.parse(localStorage.getItem(\"user\")).name\r\n                ) {\r\n                  zzz = 1;\r\n                }\r\n              }\r\n            });\r\n            //限领一次\r\n            if (zzz == 1) {\r\n              this.$message.error(\"您已经领过该红包！\");\r\n            } else {\r\n              if (xxx.length < e.shuliang) {\r\n                const now = new Date();\r\n                const dateString =\r\n                  now.getFullYear() +\r\n                  \"-\" +\r\n                  (now.getMonth() + 1).toString().padStart(2, \"0\") +\r\n                  \"-\" +\r\n                  now.getDate().toString().padStart(2, \"0\");\r\n\r\n                if (xxx.length == e.shuliang * 1 - 1) {\r\n                  request\r\n                    .post(\"/logs\", {\r\n                      name: this.user.name,\r\n                      content: e.money * 1 - yyy * 1,\r\n                      avatar: this.user.avatar,\r\n                      type: e.id,\r\n                      time: dateString,\r\n                    })\r\n                    .then((res) => {\r\n                      console.log(\"领红包\", res);\r\n                      if (res.code === \"0\") {\r\n                        let userinfo = JSON.parse(localStorage.getItem(\"user\"));\r\n                        userinfo.zongmoney =\r\n                          userinfo.zongmoney * 1 + e.money * 1 - yyy * 1;\r\n                        request.post(\"/user\", userinfo).then((res2) => {\r\n                          if (res2.code === \"0\") {\r\n                            // this.$message.success(\"操作成功\");\r\n                            localStorage.setItem(\r\n                              \"user\",\r\n                              JSON.stringify(userinfo)\r\n                            );\r\n                            this.$message.success(\r\n                              \"红包领取成功!金额：\" + res.data.content + \"元\"\r\n                            );\r\n                          } else {\r\n                            this.$message.error(res2.msg);\r\n                          }\r\n                        });\r\n                      } else {\r\n                        this.$message.error(res.msg);\r\n                      }\r\n                    });\r\n                } else {\r\n                  var randomNum = this.getRandomNumber(\r\n                    0,\r\n                    e.money * 1 - yyy * 1\r\n                  );\r\n                  console.log(randomNum);\r\n                  request\r\n                    .post(\"/logs\", {\r\n                      name: this.user.name,\r\n                      content: randomNum,\r\n                      avatar: this.user.avatar,\r\n                      type: e.id,\r\n                      time: dateString,\r\n                    })\r\n                    .then((res) => {\r\n                      console.log(\"领红包\", res);\r\n                      if (res.code === \"0\") {\r\n                        let userinfo = JSON.parse(localStorage.getItem(\"user\"));\r\n                        userinfo.zongmoney =\r\n                          userinfo.zongmoney * 1 + randomNum * 1;\r\n                        request.post(\"/user\", userinfo).then((res2) => {\r\n                          if (res2.code === \"0\") {\r\n                            // this.$message.success(\"操作成功\");\r\n                            localStorage.setItem(\r\n                              \"user\",\r\n                              JSON.stringify(userinfo)\r\n                            );\r\n                            this.$message.success(\r\n                              \"红包领取成功!金额：\" + res.data.content + \"元\"\r\n                            );\r\n                          } else {\r\n                            this.$message.error(res2.msg);\r\n                          }\r\n                        });\r\n                      } else {\r\n                        this.$message.error(res.msg);\r\n                      }\r\n                    });\r\n                }\r\n              } else {\r\n                this.$message.error(\"红包已领完\");\r\n              }\r\n            }\r\n\r\n            // this.$message.success('欢迎进入群组聊天室')\r\n          } else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        });\r\n        // this.$message.success('恭喜抢到红包！')\r\n      }\r\n    },\r\n    facai() {\r\n      this.money = \"\";\r\n      this.shuliang = \"\";\r\n      this.hongbaoopen = true;\r\n    },\r\n    download(file) {\r\n      window.open(file);\r\n    },\r\n    handleFile(file) {\r\n      if (client) {\r\n        let message = {\r\n          name: this.user.name,\r\n          content: file.data,\r\n          avatar: this.user.avatar,\r\n        };\r\n        let extName = file.data.substring(file.data.lastIndexOf(\".\") + 1);\r\n        if (\r\n          [\"png\", \"jpg\", \"jpeg\", \"gif\", \"bmp\", \"tiff\", \"svg\", \"webp\"].includes(\r\n            extName\r\n          )\r\n        ) {\r\n          message.type = \"img\";\r\n        } else {\r\n          message.type = \"file\";\r\n        }\r\n        client.send(JSON.stringify(message));\r\n      }\r\n    },\r\n    load() {\r\n      request.get(\"/imGroup\").then((res) => {\r\n        if (res.code === \"0\") {\r\n          this.messages = res.data;\r\n          this.scrollToBottom(); // 滚动条滚动到最底部\r\n          this.$message.success(\"欢迎进入群组聊天室\");\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      });\r\n    },\r\n    send() {\r\n      let inputBox = document.getElementById(\"im-content\");\r\n      const content = inputBox.innerHTML;\r\n      if (!content) {\r\n        this.$notify.error(\"请输入聊天内容\");\r\n        return;\r\n      }\r\n      if (client) {\r\n        let message = {\r\n          name: this.user.name,\r\n          content: content,\r\n          avatar: this.user.avatar,\r\n          type: \"text\",\r\n        };\r\n        client.send(JSON.stringify(message));\r\n      }\r\n      inputBox.innerHTML = \"\"; // 清空输入框\r\n    },\r\n    clickEmoji(emoji) {\r\n      document.getElementById(\"im-content\").innerHTML += emoji;\r\n    },\r\n    scrollToBottom() {\r\n      this.$nextTick(() => {\r\n        // 设置聊天滚动条到底部\r\n        let imMessageBox = document.getElementsByClassName(\"im-message-box\")[0];\r\n        //设置滚动条到最底部\r\n        imMessageBox.scrollTop = imMessageBox.scrollHeight;\r\n      });\r\n    },\r\n    don() {\r\n      \r\n        axios({\r\n          url: \"http://localhost:8080/api/imGroup/don\",\r\n          method: 'GET',\r\n          responseType: 'blob', // 重要：设置响应类型为blob\r\n        }).then((response) => {\r\n          const blob = new Blob([response.data], { type: 'application/octet-stream' });\r\n          const link = document.createElement('a');\r\n          link.href = URL.createObjectURL(blob);\r\n          link.download = '群组的聊天记录.xls'; // 设置下载文件名\r\n          link.click();\r\n        }).catch((error) => {\r\n          console.error('下载文件时发生错误:', error);\r\n        });\r\n      \r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.im-message-box {\r\n  height: 50vh;\r\n  padding: 10px;\r\n  overflow-y: auto;\r\n  background-color: white;\r\n}\r\n\r\n.emoji-box {\r\n  height: 200px;\r\n  overflow-y: scroll;\r\n  line-height: 30px;\r\n}\r\n.user-list-box {\r\n  height: calc(50vh + 60px);\r\n  overflow-y: scroll;\r\n  background-color: #f8f8ff;\r\n}\r\n.im-message-box::-webkit-scrollbar,\r\n.emoji-box::-webkit-scrollbar,\r\n.user-list-box::-webkit-scrollbar {\r\n  width: 4px;\r\n}\r\n\r\n.im-message-box::-webkit-scrollbar-thumb,\r\n.emoji-box::-webkit-scrollbar-thumb,\r\n.user-list-box::-webkit-scrollbar-thumb {\r\n  border-radius: 10px;\r\n  background: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.im-message-box::-webkit-scrollbar-track,\r\n.emoji-box::-webkit-scrollbar-track,\r\n.user-list-box::-webkit-scrollbar-track {\r\n  border-radius: 0;\r\n  background: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.im-message {\r\n  font-size: 14px;\r\n  padding: 10px;\r\n  margin: 5px 0;\r\n  border-radius: 5px;\r\n  color: #000;\r\n  max-width: 50%;\r\n  line-height: 20px;\r\n  width: fit-content;\r\n}\r\n\r\n.im-message-left {\r\n  background-color: #fff;\r\n}\r\n\r\n.im-message-right {\r\n  background-color: #26d470;\r\n}\r\n\r\n.im-message-download {\r\n  background-color: #dbedff;\r\n  cursor: pointer;\r\n}\r\n\r\n.user-list-item {\r\n  padding: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom: 1px solid #eee;\r\n  cursor: default;\r\n  font-size: 14px;\r\n}\r\n.user-list-item:nth-last-child(1) {\r\n  border: none;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}